## 2장 개략적인 규모 추정

### 2의 제곱 수

| 2의 n제곱 | 근사치 | 이름 | 축약형 |
| --- | --- | --- | --- |
| 10 | 1천 | 1킬로바이트 | 1KB |
| 20 | 1백만 | 1메가바이트 | 1MB |
| 30 | 10억 | 1기가바이트 | 1GB |
| 40 | 1조 | 1테라바이트 | 1TB |
| 50 | 1000조 | 1페타바이트 | 1PB |

### 모든 프로그래머가 알아야 하는 응답지연값

<img width="826" alt="Screen Shot 2023-05-13 at 11 44 58 AM" src="https://github.com/mimseong/Study/assets/50068946/6008b905-847e-4d87-be08-a4e1793dec52">

- 분기 예측 오류: 예측 모형이 특정 분기에 대해 예측한 값이 실제 값과 차이가 나는 경우
    - CPU가 분기 명령어를 실행할 때 이후 실행할 명령어의 위치를 미리 예측해서 성능 향상
- Zippy: Linux에서 사용하는 파일 압축 및 해제 프로그램
    - gzip 포맷으로 압축된 파일을 처리하는데 사용
    - GNU zip 기반
    - 빠른 압축 속도 제공
- Gbps: Gigabits per second
    - 초당 전송되는 비트 단위 속도
    - 1Gbps: 초당 10억개의 비트가 전송된다
   

결론

- 메모리는 빠르지만 디스크는 느리다
- 디스크 탐색은 피하자
- 단순한 압축 알고리즘은 빠르다
- 데이터를 인터넷으로 전송하기 전에 가능하면 압축하자
- 데이터센터들 간에 데이터를 주고 받는 데는 시간이 걸린다

### 가용성에 관계된 수치들

고가용성: 시스템이 오랜 시간동안 지속적으로 중단 없이 운영될 수 있는 능력

<img width="819" alt="Screen Shot 2023-05-13 at 11 45 19 AM" src="https://github.com/mimseong/Study/assets/50068946/9e6890f1-3f2c-4979-8f52-1a3d990de591">


### 예제: 트위터 QPS와 저장소 요구량 측정

**QPS 추정치**

- 일간 능동 사용자: 3억 * 50% = 1.5억
    - MAU가 3억인데 50%의 사용자가 트위터를 매일 사용해서 3억 * 50%
- QPS: 1.5억 * 2트윗 / 24시간 / 3600초 = 3500
    - DAU * (매일 2건 트윗) / 24시간 / 3600초 (60분 * 60초)
    - 최대 QPS → 왜 2를 곱하지? (비지니스에 따라 다름, 임의로 최대 2배로 잡음)

**저장소 요구량**

- 평균 트윗 크기
    - id: 64바이트
    - 텍스트 140바이트
    - 미디어 1MB
- 미디어 저장소 요구량: 1.5억 * 2 * 10% * 1MB = 30TB / 일
    - DAU * (매일 2건 트윗) * (미디어 포함 트윗 10%) * (미디어 사이즈) = 30TB
- 데이터 5년간 보관: 30TB * 365 * 5 = 55PB
